<!DOCTYPE HTML>
<html>
<head>
  <title>Virginia Trails & Breweries</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />

  <link rel="stylesheet" href="assets/css/main.css" />
  <link rel="stylesheet" href="assets/css/style.css" />

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.Default.css" />

  <style>
    /* Warm Background Adjustment */
    body, #page-wrapper, #main {
      background-color: #fdfaf5 !important; /* Soft warm white */
    }

    /* Under Construction Banner */
    .construction-banner {
      background-color: #fce14d;
      color: #333;
      text-align: center;
      padding: 12px 20px;
      font-weight: 600;
      font-family: Arial, sans-serif;
      border-bottom: 2px solid #d4b106;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 15px;
      position: relative;
      z-index: 9999;
    }

    /* Feature Photo Styles */
    .feature-image-container {
      width: 100%;
      height: 200px;
      overflow: hidden;
      border-radius: 8px;
      margin-bottom: 1.5em;
      box-shadow: 0 10px 20px rgba(0,0,0,0.15);
      transition: transform 0.3s ease;
    }

    .feature-image-container:hover {
      transform: translateY(-5px);
    }

    .feature-image-container img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    /* MAP SIZE ADJUSTMENT */
    #va-map {
      width: 100%;
      height: 700px; /* Much larger frame for better interaction */
      border-radius: 8px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      border: 1px solid #ddd;
    }

    @media screen and (max-width: 736px) {
      .construction-banner {
        font-size: 0.9rem;
        flex-direction: column;
        gap: 5px;
      }
      #va-map {
        height: 450px; /* Slightly smaller but still substantial on mobile */
      }
    }
  </style>
</head>

<body class="homepage is-preload">

<div class="construction-banner">
  <span>üöß</span>
  <div>This site is currently <strong>under construction</strong> and is not fully active yet. Check back soon!</div>
  <span>üöß</span>
</div>

<div id="page-wrapper">

  <header id="header">
    <div class="logo container">
      <div>
        <h1><a href="index.html" id="logo">Virginia Trails & Breweries</a></h1>
        <p>Hiking, biking, and craft beer across the Commonwealth</p>
      </div>
    </div>
  </header>

  <nav id="nav">
    <ul>
      <li class="current"><a href="#banner">Home</a></li>
      <li><a href="#about">About</a></li>
      <li><a href="#trails">Trails</a></li>
      <li><a href="#breweries">Breweries</a></li>
      <li><a href="#maps">Maps</a></li>
    </ul>
  </nav>

  <section id="banner">
    <div class="content">
      <h2>Explore Virginia's Outdoors & Craft Beer</h2>
      <p>From mountain trails to cold pints ‚Äî discover it all</p>
      <a href="#maps" class="button scrolly">View Maps</a>
    </div>
  </section>

  <section id="main">
    <div class="container">

      <section id="about" class="box highlight">
        <header>
          <h2>About Us</h2>
          <p>‚ÄúOf all the paths you take in life, make sure a few of them are dirt.‚Äù ‚Äì John Muir</p>
        </header>
        <p>
          Virginia offers thousands of miles of trails for hiking and biking, including more than
          550 miles of the Appalachian Trail alone.
        </p>
        <p><strong>Come explore the beauty and crisp cold beers!</strong></p>
      </section>

      <section id="trails" class="box features">
        <h2 class="major"><span>Explore</span></h2>
        <div class="row">

          <div class="col-4 col-12-medium">
            <section class="box feature">
              <div class="feature-image-container">
                <img src="images/pic01.jpg" alt="Hiking Trail">
              </div>
              <h3>üèûÔ∏è Hiking</h3>
              <p>Appalachian Trail sections, state parks, and scenic backcountry routes.</p>
            </section>
          </div>

          <div class="col-4 col-12-medium">
            <section class="box feature">
              <div class="feature-image-container">
                <img src="images/pic02.jpg" alt="Biking Path">
              </div>
              <h3>üö¥ Biking</h3>
              <p>Road cycling, greenways, and mountain bike trails for all skill levels.</p>
            </section>
          </div>

          <div class="col-4 col-12-medium" id="breweries">
            <section class="box feature">
              <div class="feature-image-container">
                <img src="images/pic03.jpg" alt="Craft Beer">
              </div>
              <h3>üç∫ Breweries</h3>
              <p>Clustered brewery locations across the Commonwealth.</p>
            </section>
          </div>

        </div>
      </section>

      <section id="maps" class="box">
        <h2 class="major"><span>Interactive Map</span></h2>
        <p style="text-align: center; margin-bottom: 2em;">Toggle layers to find your next adventure.</p>
        
        <ul class="actions">
          <li><a href="#" class="button" id="toggle-hiking">Hiking</a></li>
          <li><a href="#" class="button" id="toggle-biking">Biking</a></li>
          <li><a href="#" class="button" id="toggle-breweries">Breweries</a></li>
        </ul>
        
        <div id="va-map"></div>
      </section>

    </div>
  </section>

  <footer id="footer">
    <div class="container">
      <section>
        <h2 class="major"><span>Virginia Trails & Breweries</span></h2>
        <p>Built to share the best outdoor adventures and breweries in Virginia.</p>
      </section>
      <div id="copyright">
        <ul class="menu">
          <li>&copy; 2026 Virginia Trails & Breweries</li>
          <li>Design: HTML5 UP</li>
        </ul>
      </div>
    </div>
  </footer>

</div>

<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/jquery.dropotron.min.js"></script>
<script src="assets/js/jquery.scrolly.min.js"></script>
<script src="assets/js/browser.min.js"></script>
<script src="assets/js/breakpoints.min.js"></script>
<script src="assets/js/util.js"></script>
<script src="assets/js/main.js"></script>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<script src="https://unpkg.com/leaflet.markercluster/dist/leaflet.markercluster.js"></script>

<script>
  // Map Initialization
  const map = L.map('va-map').setView([37.5, -78.7], 7);
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; OpenStreetMap contributors'
  }).addTo(map);

  const hikingLayer = L.layerGroup().addTo(map);
  const bikingLayer = L.layerGroup();
  const breweryLayer = L.markerClusterGroup();

  function loadGeoJSON(url, layer, color) {
    fetch(url)
      .then(res => res.json())
      .then(data => {
        L.geoJSON(data, {
          pointToLayer: (feature, latlng) =>
            L.circleMarker(latlng, {
              radius: 7,
              fillColor: color,
              color: '#ffffff',
              weight: 2,
              fillOpacity: 0.9
            }),
          onEachFeature: (feature, layer) => {
            let popup = `<strong>${feature.properties.name}</strong>`;
            if (feature.properties.city) popup += `<br>${feature.properties.city}`;
            layer.bindPopup(popup);
          }
        }).addTo(layer);
      })
      .catch(err => console.error('GeoJSON error:', err));
  }

  loadGeoJSON('assets/data/hiking.geojson', hikingLayer, '#78a372');
  loadGeoJSON('assets/data/biking.geojson', bikingLayer, '#5b8a94');
  loadGeoJSON('assets/data/breweries.geojson', breweryLayer, '#d19a66');

  // Toggle Logic
  document.getElementById('toggle-hiking').onclick = e => { 
    e.preventDefault(); 
    map.hasLayer(hikingLayer) ? map.removeLayer(hikingLayer) : map.addLayer(hikingLayer); 
  };
  document.getElementById('toggle-biking').onclick = e => { 
    e.preventDefault(); 
    map.hasLayer(bikingLayer) ? map.removeLayer(bikingLayer) : map.addLayer(bikingLayer); 
  };
  document.getElementById('toggle-breweries').onclick = e => { 
    e.preventDefault(); 
    map.hasLayer(breweryLayer) ? map.removeLayer(breweryLayer) : map.addLayer(breweryLayer); 
  };

  // Recalculate size to ensure tiles load correctly in the new large container
  setTimeout(() => map.invalidateSize(), 300);
</script>

</body>
</html>
