<!DOCTYPE HTML>
<html>
<head>
  <title>Virginia Trails & Breweries</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />

  <link rel="stylesheet" href="assets/css/main.css" />

  <link rel="stylesheet" href="assets/css/style.css" />

  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  />

  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.css"
  />
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.Default.css"
  />

  <style>
    .construction-banner {
      background-color: #fce14d;
      color: #333;
      text-align: center;
      padding: 12px 20px;
      font-weight: 600;
      font-family: Arial, sans-serif;
      border-bottom: 2px solid #d4b106;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 15px;
      position: relative;
      z-index: 9999;
    }
    .construction-banner span {
      font-size: 1.2rem;
    }
    @media screen and (max-width: 736px) {
      .construction-banner {
        font-size: 0.9rem;
        flex-direction: column;
        gap: 5px;
      }
    }
  </style>
</head>

<body class="homepage is-preload">

<div class="construction-banner">
  <span>ğŸš§</span>
  <div>This site is currently <strong>under construction</strong> and is not fully active yet. Check back soon!</div>
  <span>ğŸš§</span>
</div>

<div id="page-wrapper">

  <header id="header">
    <div class="logo container">
      <div>
        <h1><a href="index.html" id="logo">Virginia Trails & Breweries</a></h1>
        <p>Hiking, biking, and craft beer across the Commonwealth</p>
      </div>
    </div>
  </header>

  <nav id="nav">
    <ul>
      <li class="current"><a href="#banner">Home</a></li>
      <li><a href="#about">About</a></li>
      <li><a href="#trails">Trails</a></li>
      <li><a href="#breweries">Breweries</a></li>
      <li><a href="#maps">Maps</a></li>
    </ul>
  </nav>

  <section id="banner">
    <div class="content">
      <h2>Explore Virginia's Outdoors & Craft Beer</h2>
      <p>From mountain trails to cold pints â€” discover it all</p>
      <a href="#maps" class="button scrolly">View Maps</a>
    </div>
  </section>

  <section id="main">
    <div class="container">

      <section id="about" class="box highlight">
        <header>
          <h2>About Us</h2>
          <p>â€œOf all the paths you take in life, make sure a few of them are dirt.â€ â€“ John Muir</p>
        </header>
        <p>
          Virginia offers hundreds of miles of trails for hiking and biking, including more than
          550 miles of the Appalachian Trail alone, plus countless local and regional paths spanning
          forests, parks, and scenic natural landscapes throughout the state.
        </p>
        <p>
          The Commonwealth also boasts over 100 breweries rooted in centuries of brewing tradition â€”
          the perfect reward after a day on the trail.
        </p>
        <p><strong>Come explore the beauty and crisp cold beers!</strong></p>
      </section>

      <section id="trails" class="box features">
        <h2 class="major"><span>Explore</span></h2>
        <div class="row">

          <div class="col-4 col-12-medium">
            <section class="box feature">
              <h3>ğŸï¸ Hiking</h3>
              <p>Appalachian Trail sections, state parks, and scenic backcountry routes.</p>
            </section>
          </div>

          <div class="col-4 col-12-medium">
            <section class="box feature">
              <h3>ğŸš´ Biking</h3>
              <p>Road cycling, greenways, and mountain bike trails for all skill levels.</p>
            </section>
          </div>

          <div class="col-4 col-12-medium" id="breweries">
            <section class="box feature">
              <h3>ğŸº Breweries</h3>
              <p>Clustered brewery locations across the Commonwealth.</p>
            </section>
          </div>

        </div>
      </section>

      <section id="maps" class="box">
        <h2 class="major"><span>Interactive Map</span></h2>

        <ul class="actions">
          <li><a href="#" class="button" id="toggle-hiking">Hiking</a></li>
          <li><a href="#" class="button" id="toggle-biking">Biking</a></li>
          <li><a href="#" class="button" id="toggle-breweries">Breweries</a></li>
        </ul>

        <div id="va-map" class="leaflet-map"></div>
      </section>

    </div>
  </section>

  <footer id="footer">
    <div class="container">
      <section>
        <h2 class="major"><span>Virginia Trails & Breweries</span></h2>
        <p>Built to share the best outdoor adventures and breweries in Virginia.</p>
      </section>
      <div id="copyright">
        <ul class="menu">
          <li>&copy; 2026 Virginia Trails & Breweries</li>
          <li>Design: HTML5 UP</li>
        </ul>
      </div>
    </div>
  </footer>

</div>

<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/jquery.dropotron.min.js"></script>
<script src="assets/js/jquery.scrolly.min.js"></script>
<script src="assets/js/browser.min.js"></script>
<script src="assets/js/breakpoints.min.js"></script>
<script src="assets/js/util.js"></script>
<script src="assets/js/main.js"></script>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<script src="https://unpkg.com/leaflet.markercluster/dist/leaflet.markercluster.js"></script>

<script>
  // 1ï¸âƒ£ Initialize ONE map
  const map = L.map('va-map').setView([37.5, -78.7], 7);

  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; OpenStreetMap contributors'
  }).addTo(map);

  // 2ï¸âƒ£ Create layers
  const hikingLayer = L.layerGroup().addTo(map);
  const bikingLayer = L.layerGroup();
  const breweryLayer = L.markerClusterGroup();

  // 3ï¸âƒ£ Load GeoJSON helper
  function loadGeoJSON(url, layer, color) {
    fetch(url)
      .then(res => res.json())
      .then(data => {
        L.geoJSON(data, {
          pointToLayer: (feature, latlng) =>
            L.circleMarker(latlng, {
              radius: 7,
              fillColor: color,
              color: '#ffffff',
              weight: 2,
              fillOpacity: 0.9
            }),
          onEachFeature: (feature, layer) => {
            let popup = `<strong>${feature.properties.name}</strong>`;
            if (feature.properties.city) {
              popup += `<br>${feature.properties.city}`;
            }
            layer.bindPopup(popup);
          }
        }).addTo(layer);
      })
      .catch(err => console.error('GeoJSON error:', err));
  }

  // 4ï¸âƒ£ Load your data
  loadGeoJSON('assets/data/hiking.geojson', hikingLayer, '#78a372');
  loadGeoJSON('assets/data/biking.geojson', bikingLayer, '#5b8a94');
  loadGeoJSON('assets/data/breweries.geojson', breweryLayer, '#d19a66');

  // 5ï¸âƒ£ Button controls
  document.getElementById('toggle-hiking').onclick = e => {
    e.preventDefault();
    if (map.hasLayer(hikingLayer)) map.removeLayer(hikingLayer);
    else map.addLayer(hikingLayer);
  };

  document.getElementById('toggle-biking').onclick = e => {
    e.preventDefault();
    if (map.hasLayer(bikingLayer)) map.removeLayer(bikingLayer);
    else map.addLayer(bikingLayer);
  };

  document.getElementById('toggle-breweries').onclick = e => {
    e.preventDefault();
    if (map.hasLayer(breweryLayer)) map.removeLayer(breweryLayer);
    else map.addLayer(breweryLayer);
  };

  // Ensure correct render
  setTimeout(() => map.invalidateSize(), 300);
</script>

</body>
</html>
